# typeof

只能精确检测基本类型数据（除`null`）和`function`的类型

```js
typeof 1; // 'number'
typeof '1'; // 'string'
typeof undefined; // 'undefined'
typeof true; // 'boolean'
typeof Symbol(); // 'symbol'
typeof null; // 'object'
typeof []; //'object'
typeof {}; //'object'
typeof console; // 'object'
typeof console.log; // 'function'
```

# instanceof

基于原型链来检查复杂数据类型

```js
function mylnstanceof(left, right) {
  //这里先用typeof来判断基础数据类型，如果是，直接返回false
  if (typeof left !== 'object' || left === null) return false;
  //getProtypeof是object对象白带的API，能够拿到参数的原型对象
  let proto = Object.getPrototypeOf(left);
  while (true) {
    //循环往下寻找，直到找到相同的原型对象
    if (proto === null) return false;
    if (proto === right.prototype) return true; //找到相同原型对象，返回true
    proto = Object.getPrototypeOf(proto);
    //验证一下白己实现的myinstanceof是否OK
    console.log(mylnstanceof(new Number(123), Number)); // true
    console.log(mylnstanceof(123, Number)); // false
  }
}
```

# Object.prototype.toString.call(target)

基本可以覆盖大部分使用场景，**推荐使用的方案**

```js
Object.prototype.toString({}); // "[object Object]'
Object.prototype.toString.call(9); //同上结果，加上cal也ok
Object.prototype.toString.call(1); // "[object Number]"
Object.prototype.toString.call('1'); // "[object String]'
Object.prototype.toString.call(true); // "[object Boolean]"
Object.prototype.toString.call(function () {}); // "[object Function]"
Object.prototype.toString.call(null); //"[object Null]"
Object.prototype.toString.call(undefined); //"[object Undefined "
Object.prototype.toString.call(/123/g); //"[object RegExp]"
Object.prototype.toString.call(new Date()); //"[object Date]"
Object.prototype.toString.call([]); //"[object Array]"
Object.prototype.toString.call(document); //"[object HTMLDocument]"
Object.prototype.toString.call(window); //"[object Window]"
```

基于 toString 实现一个获取类型的方法

```js
function getType(obj) {
  let type = typeof obj;
  if (type !== 'object') {
    //进行typeof判断，如果是基础数据类型，直接返回
    return type;
  }
  //对于typeo返回结果是object的，再进行如下的判断，正则返回结果
  return Object.prototype.toString
    .call(obj)
    .replace(/^\[object (\S+)\]$/, '$1'); //注意正则中间有个空格
}
/*代码验证，需要注意大小写，哪些是typeof判断，哪些是toString判断？思考下*/
getType([1]); // "Array" typeof 口是object，因此toString返回
getType('123'); // "string" typeof直接返回
getType(window); // "Window'" toString返回
getType(null); // "Null"首字母大写，typeof null是object， 需toString来判断
getType(undefined); // "undefined" typeof直接返回
getType(); // "undefined" typeof直接返回
getType(function(){}); // "function" typeof能判断，因此首字母小写
getType(/123/g); // "RegExp" to string返回
```
