# 响应式布局

**移动优先策略**

# 媒体查询

## 语法

```css
@media not|only mediatype and (mediafeature and|or|not mediafeature) {
  CSS-Code;
}

```

## 动态外联样式表

```html

<link rel="stylesheet" media="screen and (min-width: 900px)" href="widescreen.css">
<link rel="stylesheet" media="screen and (max-width: 600px)" href="smallscreen.css">

```

## orientation:landscape

浏览器窗口的宽度小于高度时，称为`Portrait`模式  **竖屏**
浏览器窗口的宽度大于高度时，称为`Landscape`模式  **横屏**

```css

/* 横屏 */
@media only screen and (orientation: landscape) {
  body {
    background-color: lightblue;
  }
}

/* 竖屏 */
@media only screen and (orientation: portrait) {
  body {
    background-color: lightblue;
  }
}

```

## mediatype

screen、print、speech

```css

@media screen {
  body {
    color: green;
  }
}

@media print {
  body {
    color: black;
  }
}
```

## Window.matchMedia()


```js
if (window.matchMedia("(max-width: 700px)").matches) {
  // Viewport is less or equal to 700 pixels wide
} else {
  // Viewport is greater than 700 pixels wide
}

```

```js
// Create a match function
function myFunction(x) {
  if (x.matches) {
    document.body.style.backgroundColor = "yellow";
  } else {
    document.body.style.backgroundColor = "pink";
  }
}

// // Create a MediaQueryList object
const mmObj = window.matchMedia("(max-width: 700px)")

// Call the match function at run time:
myFunction(mmObj);

// Add the match function as a listener for state changes:
mmObj.addListener(myFunction);

```

```js

function matchMediaQuery (mediafeature, cb) {
  const mm = window.matchMedia(mediafeature)
  cb(mm)
  mm.addListener(cb);
  return mm
}

```